<?php

namespace App\Models;

use Illuminate\Database\Eloquent\Model;

class FileAttachmentTypes extends Model
{
    protected $connection = 'sqlsrv';

    protected $table = 'file_attachment_types';

    protected $primaryKey = 'id';

    public $incrementing = true;

    protected $keyType = 'integer';

    public $timestamps = false;

    protected $dateFormat = 'Y-m-d H:i:s';

    /**
     * To be able to auto-save and fill prperties, guarded will be empty for now.
     *
     * @TODO: once basic things are settled, find an autogenerated solution for this.
     */
    protected $guarded = [];

    protected $hidden = [];

    protected $appends = [];

    // TODO: remove all this once datetime is no longer different across tables
    protected function asDateTime($value)
    {
        $value = preg_replace('/\.[0-9]+$/', '', (string) $value);

        return parent::asDateTime($value);
    }

    public static function fields(): array
    {
        return [
            'individual_guid' => [
                'displayName' => 'individual_guid',
                // TODO: more options to come...
            ],
            'name' => [
                'displayName' => 'name',
                // TODO: more options to come...
            ],
        ];
    }
}
